(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{X3zk:function(n,t,o){"use strict";o.r(t),o.d(t,"LoginPageModule",(function(){return _}));var e=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),c=o("tyNb"),a=o("fXoL"),s=o("VaEd");function l(n,t){if(1&n&&(a.Lb(0,"li",16),a.gc(1),a.Kb()),2&n){const n=a.Vb(2);a.yb(1),a.ic(" ",n.llistatErrors.emailBuit,"")}}function g(n,t){if(1&n&&(a.Lb(0,"li",16),a.gc(1),a.Kb()),2&n){const n=a.Vb(2);a.yb(1),a.ic(" ",n.llistatErrors.emailFormat,"")}}function b(n,t){if(1&n&&(a.Lb(0,"li",16),a.gc(1),a.Kb()),2&n){const n=a.Vb(2);a.yb(1),a.ic(" ",n.llistatErrors.emailLengthmax,"")}}function m(n,t){if(1&n&&(a.Lb(0,"li",16),a.gc(1),a.Kb()),2&n){const n=a.Vb(2);a.yb(1),a.ic(" ",n.llistatErrors.wrongMail,"")}}function d(n,t){if(1&n&&(a.Lb(0,"ion-label"),a.fc(1,l,2,1,"li",15),a.fc(2,g,2,1,"li",15),a.fc(3,b,2,1,"li",15),a.fc(4,m,2,1,"li",15),a.Kb()),2&n){const n=a.Vb();a.yb(1),a.Yb("ngIf",n.loginForm.hasError("required","email")),a.yb(1),a.Yb("ngIf",n.loginForm.hasError("pattern","email")),a.yb(1),a.Yb("ngIf",n.loginForm.hasError("maxlength","email")),a.yb(1),a.Yb("ngIf",n.emailIncorrecte)}}function u(n,t){if(1&n&&(a.Lb(0,"li",16),a.gc(1),a.Kb()),2&n){const n=a.Vb(2);a.yb(1),a.ic(" ",n.llistatErrors.passBuit,"")}}function f(n,t){if(1&n&&(a.Lb(0,"li",16),a.gc(1),a.Kb()),2&n){const n=a.Vb(2);a.yb(1),a.ic(" ",n.llistatErrors.passLength,"")}}function p(n,t){if(1&n&&(a.Lb(0,"li",16),a.gc(1),a.Kb()),2&n){const n=a.Vb(2);a.yb(1),a.ic(" ",n.llistatErrors.passLengthMax,"")}}function C(n,t){if(1&n&&(a.Lb(0,"li",16),a.gc(1),a.Kb()),2&n){const n=a.Vb(2);a.yb(1),a.ic(" ",n.llistatErrors.wrongPass,"")}}function h(n,t){if(1&n&&(a.Lb(0,"ion-label"),a.fc(1,u,2,1,"li",15),a.fc(2,f,2,1,"li",15),a.fc(3,p,2,1,"li",15),a.fc(4,C,2,1,"li",15),a.Kb()),2&n){const n=a.Vb();a.yb(1),a.Yb("ngIf",n.loginForm.hasError("required","password")),a.yb(1),a.Yb("ngIf",n.loginForm.hasError("minlength","password")),a.yb(1),a.Yb("ngIf",n.loginForm.hasError("maxlength","password")),a.yb(1),a.Yb("ngIf",n.passwordIncorrecte)}}const M=[{path:"",component:(()=>{class n{constructor(n,t,o,e){this._router=n,this.formBuilder=t,this.service=o,this.router=e,this.submitted=!1,this.emailIncorrecte=!1,this.passwordIncorrecte=!1,this.elmClicats={email:!1,password:!1},this.llistatErrors={emailBuit:"El campo del correo no puede quedar vac\xedo",emailFormat:"El formato del correo no es correcto",emailLengthmax:"El correo no puede tener m\xe1s de 40 car\xe1cteres",passBuit:"El campo de la contrase\xf1a no puede quedar vac\xedo",passLength:"La contrase\xf1a debe de tener 6 o m\xe1s d\xedgitos",passLengthMax:"La contrase\xf1a no puede tener m\xe1s de 32 car\xe1cteres",wrongMail:"El correo introducido no existe",wrongPass:"La contrase\xf1a introducida es incorrecta"},this.llistatApartats={titol:"Login de usuario",boto:"Login",ferRegister:"A\xfan no tienes cuenta? Registrate",register:"aqu\xed"}}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[i.l.required,i.l.email,i.l.maxLength(40),i.l.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[i.l.required,i.l.minLength(6),i.l.maxLength(32)]]})}login(n){this.service.login(n.form.value.email,n.form.value.password).then(n=>{this.service.setToken(n.user.uid),this.resetejarLogin(),this._router.navigateByUrl("/buscador")}).catch(n=>{this.emailIncorrecte="auth/user-not-found"==n.code,this.passwordIncorrecte="auth/wrong-password"==n.code})}registrar(){this.resetejarLogin(),this.router.navigate(["/register"])}resetejarLogin(){this.loginForm.reset(),this.elmClicats={email:!1,password:!1},this.emailIncorrecte=!1,this.passwordIncorrecte=!1}}return n.\u0275fac=function(t){return new(t||n)(a.Ib(c.g),a.Ib(i.b),a.Ib(s.a),a.Ib(c.g))},n.\u0275cmp=a.Cb({type:n,selectors:[["app-login"]],decls:23,vars:8,consts:[["padding",""],[1,"background"],[1,"main"],[1,"formulari",3,"formGroup","ngSubmit"],["form","ngForm"],[1,"titol"],[1,"inputs"],["lines","none",1,"entrada"],["id","email","name","email","type","email","placeholder","nombre@email.com","formControlName","email","required","",3,"blur"],[4,"ngIf"],[1,"separador"],["id","password","name","password","type","password","placeholder","contrase\xf1a","formControlName","password","required","",3,"blur"],["size","large","type","submit","expand","block",3,"disabled"],[1,"register-row"],[3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,t){if(1&n){const n=a.Mb();a.Lb(0,"ion-content",0),a.Jb(1,"div",1),a.Lb(2,"div",2),a.Lb(3,"form",3,4),a.Tb("ngSubmit",(function(){a.cc(n);const o=a.bc(4);return t.login(o)})),a.Lb(5,"div",5),a.Lb(6,"h3"),a.gc(7),a.Kb(),a.Kb(),a.Lb(8,"ul",6),a.Lb(9,"li",7),a.Lb(10,"input",8),a.Tb("blur",(function(){return t.elmClicats.email=!0})),a.Kb(),a.Kb(),a.fc(11,d,5,4,"ion-label",9),a.Jb(12,"div",10),a.Lb(13,"li",7),a.Lb(14,"input",11),a.Tb("blur",(function(){return t.elmClicats.password=!0})),a.Kb(),a.Kb(),a.fc(15,h,5,4,"ion-label",9),a.Kb(),a.Lb(16,"div"),a.Lb(17,"ion-button",12),a.gc(18),a.Kb(),a.Kb(),a.Kb(),a.Lb(19,"div",13),a.gc(20),a.Lb(21,"a",14),a.Tb("click",(function(){return t.registrar()})),a.gc(22),a.Kb(),a.Kb(),a.Kb(),a.Kb()}if(2&n){const n=a.bc(4);a.yb(3),a.Yb("formGroup",t.loginForm),a.yb(4),a.hc(t.llistatApartats.titol),a.yb(4),a.Yb("ngIf",t.elmClicats.email),a.yb(4),a.Yb("ngIf",t.elmClicats.password),a.yb(2),a.Yb("disabled",n.invalid),a.yb(1),a.ic(" ",t.llistatApartats.boto,""),a.yb(2),a.ic(" ",t.llistatApartats.ferRegister," "),a.yb(2),a.ic(" ",t.llistatApartats.register,"")}},directives:[r.g,i.m,i.i,i.d,i.a,i.h,i.c,i.k,e.j,r.d,r.o],styles:["ion-content[_ngcontent-%COMP%]{display:flex}ion-content[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:fixed;z-index:1;width:100%;height:100%;background-image:url(login_wp.f695d8d5afbddde48035.jpg);filter:opacity(40%);background-repeat:no-repeat;background-size:cover}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:fixed;z-index:2;width:100%;height:100%;color:#000;font-weight:700}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (min-width:1099px){ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]{margin:90px 0 70px}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:56px;margin-bottom:35px}}@media (max-width:1100px){ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]{margin:30px 0 60px}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:36px}}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;color:#ffc740;text-shadow:2px 2px #000;font-family:power-up}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{filter:opacity(90%);width:310px}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:18px;font-size:18px;border:1px solid #e9e9e9}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .separador[_ngcontent-%COMP%]{height:1.3vh}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;border:1px solid #e9e9e9;background-color:#fff;color:red}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{color:pink;background-color:red}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:2vh}@media (min-width:1099px){ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ion-button.button-disabled[_ngcontent-%COMP%]{opacity:.8}}@media (max-width:1100px){ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ion-button.button-disabled[_ngcontent-%COMP%]{opacity:.7}}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}"]}),n})()}];let P=(()=>{class n{}return n.\u0275mod=a.Gb({type:n}),n.\u0275inj=a.Fb({factory:function(t){return new(t||n)},imports:[[c.j.forChild(M)],c.j]}),n})(),_=(()=>{class n{}return n.\u0275mod=a.Gb({type:n}),n.\u0275inj=a.Fb({factory:function(t){return new(t||n)},imports:[[e.c,i.e,r.D,P,i.j]]}),n})()}}]);