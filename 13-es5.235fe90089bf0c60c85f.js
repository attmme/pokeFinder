!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var o=0;o<t.length;o++){var e=t[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{X3zk:function(o,e,i){"use strict";i.r(e),i.d(e,"LoginPageModule",(function(){return x}));var r=i("ofXK"),a=i("3Pt+"),c=i("TEn/"),l=i("tyNb"),s=i("fXoL"),g=i("VaEd");function b(n,t){if(1&n&&(s.Lb(0,"li",16),s.gc(1),s.Kb()),2&n){var o=s.Vb(2);s.yb(1),s.ic(" ",o.llistatErrors.emailBuit,"")}}function u(n,t){if(1&n&&(s.Lb(0,"li",16),s.gc(1),s.Kb()),2&n){var o=s.Vb(2);s.yb(1),s.ic(" ",o.llistatErrors.emailFormat,"")}}function m(n,t){if(1&n&&(s.Lb(0,"li",16),s.gc(1),s.Kb()),2&n){var o=s.Vb(2);s.yb(1),s.ic(" ",o.llistatErrors.emailLengthmax,"")}}function d(n,t){if(1&n&&(s.Lb(0,"li",16),s.gc(1),s.Kb()),2&n){var o=s.Vb(2);s.yb(1),s.ic(" ",o.llistatErrors.wrongMail,"")}}function f(n,t){if(1&n&&(s.Lb(0,"ion-label"),s.fc(1,b,2,1,"li",15),s.fc(2,u,2,1,"li",15),s.fc(3,m,2,1,"li",15),s.fc(4,d,2,1,"li",15),s.Kb()),2&n){var o=s.Vb();s.yb(1),s.Yb("ngIf",o.loginForm.hasError("required","email")),s.yb(1),s.Yb("ngIf",o.loginForm.hasError("pattern","email")),s.yb(1),s.Yb("ngIf",o.loginForm.hasError("maxlength","email")),s.yb(1),s.Yb("ngIf",o.emailIncorrecte)}}function p(n,t){if(1&n&&(s.Lb(0,"li",16),s.gc(1),s.Kb()),2&n){var o=s.Vb(2);s.yb(1),s.ic(" ",o.llistatErrors.passBuit,"")}}function C(n,t){if(1&n&&(s.Lb(0,"li",16),s.gc(1),s.Kb()),2&n){var o=s.Vb(2);s.yb(1),s.ic(" ",o.llistatErrors.passLength,"")}}function h(n,t){if(1&n&&(s.Lb(0,"li",16),s.gc(1),s.Kb()),2&n){var o=s.Vb(2);s.yb(1),s.ic(" ",o.llistatErrors.passLengthMax,"")}}function M(n,t){if(1&n&&(s.Lb(0,"li",16),s.gc(1),s.Kb()),2&n){var o=s.Vb(2);s.yb(1),s.ic(" ",o.llistatErrors.wrongPass,"")}}function P(n,t){if(1&n&&(s.Lb(0,"ion-label"),s.fc(1,p,2,1,"li",15),s.fc(2,C,2,1,"li",15),s.fc(3,h,2,1,"li",15),s.fc(4,M,2,1,"li",15),s.Kb()),2&n){var o=s.Vb();s.yb(1),s.Yb("ngIf",o.loginForm.hasError("required","password")),s.yb(1),s.Yb("ngIf",o.loginForm.hasError("minlength","password")),s.yb(1),s.Yb("ngIf",o.loginForm.hasError("maxlength","password")),s.yb(1),s.Yb("ngIf",o.passwordIncorrecte)}}var _,O,y,w=[{path:"",component:(_=function(){function o(t,e,i,r){n(this,o),this._router=t,this.formBuilder=e,this.service=i,this.router=r,this.submitted=!1,this.emailIncorrecte=!1,this.passwordIncorrecte=!1,this.elmClicats={email:!1,password:!1},this.llistatErrors={emailBuit:"El campo del correo no puede quedar vac\xedo",emailFormat:"El formato del correo no es correcto",emailLengthmax:"El correo no puede tener m\xe1s de 40 car\xe1cteres",passBuit:"El campo de la contrase\xf1a no puede quedar vac\xedo",passLength:"La contrase\xf1a debe de tener 6 o m\xe1s d\xedgitos",passLengthMax:"La contrase\xf1a no puede tener m\xe1s de 32 car\xe1cteres",wrongMail:"El correo introducido no existe",wrongPass:"La contrase\xf1a introducida es incorrecta"},this.llistatApartats={titol:"Login de usuario",boto:"Login",ferRegister:"A\xfan no tienes cuenta? Registrate",register:"aqu\xed"}}var e,i,r;return e=o,(i=[{key:"ngOnInit",value:function(){this.loginForm=this.formBuilder.group({email:["",[a.l.required,a.l.email,a.l.maxLength(40),a.l.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[a.l.required,a.l.minLength(6),a.l.maxLength(32)]]})}},{key:"login",value:function(n){var t=this;this.service.login(n.form.value.email,n.form.value.password).then((function(n){t.service.setToken(n.user.uid),t.resetejarLogin(),t._router.navigateByUrl("/buscador")})).catch((function(n){t.emailIncorrecte="auth/user-not-found"==n.code,t.passwordIncorrecte="auth/wrong-password"==n.code}))}},{key:"registrar",value:function(){this.resetejarLogin(),this.router.navigate(["/register"])}},{key:"resetejarLogin",value:function(){this.loginForm.reset(),this.elmClicats={email:!1,password:!1},this.emailIncorrecte=!1,this.passwordIncorrecte=!1}}])&&t(e.prototype,i),r&&t(e,r),o}(),_.\u0275fac=function(n){return new(n||_)(s.Ib(l.g),s.Ib(a.b),s.Ib(g.a),s.Ib(l.g))},_.\u0275cmp=s.Cb({type:_,selectors:[["app-login"]],decls:23,vars:8,consts:[["padding",""],[1,"background"],[1,"main"],[1,"formulari",3,"formGroup","ngSubmit"],["form","ngForm"],[1,"titol"],[1,"inputs"],["lines","none",1,"entrada"],["id","email","name","email","type","email","placeholder","nombre@email.com","formControlName","email","required","",3,"blur"],[4,"ngIf"],[1,"separador"],["id","password","name","password","type","password","placeholder","contrase\xf1a","formControlName","password","required","",3,"blur"],["size","large","type","submit","expand","block",3,"disabled"],[1,"register-row"],[3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,t){if(1&n){var o=s.Mb();s.Lb(0,"ion-content",0),s.Jb(1,"div",1),s.Lb(2,"div",2),s.Lb(3,"form",3,4),s.Tb("ngSubmit",(function(){s.cc(o);var n=s.bc(4);return t.login(n)})),s.Lb(5,"div",5),s.Lb(6,"h3"),s.gc(7),s.Kb(),s.Kb(),s.Lb(8,"ul",6),s.Lb(9,"li",7),s.Lb(10,"input",8),s.Tb("blur",(function(){return t.elmClicats.email=!0})),s.Kb(),s.Kb(),s.fc(11,f,5,4,"ion-label",9),s.Jb(12,"div",10),s.Lb(13,"li",7),s.Lb(14,"input",11),s.Tb("blur",(function(){return t.elmClicats.password=!0})),s.Kb(),s.Kb(),s.fc(15,P,5,4,"ion-label",9),s.Kb(),s.Lb(16,"div"),s.Lb(17,"ion-button",12),s.gc(18),s.Kb(),s.Kb(),s.Kb(),s.Lb(19,"div",13),s.gc(20),s.Lb(21,"a",14),s.Tb("click",(function(){return t.registrar()})),s.gc(22),s.Kb(),s.Kb(),s.Kb(),s.Kb()}if(2&n){var e=s.bc(4);s.yb(3),s.Yb("formGroup",t.loginForm),s.yb(4),s.hc(t.llistatApartats.titol),s.yb(4),s.Yb("ngIf",t.elmClicats.email),s.yb(4),s.Yb("ngIf",t.elmClicats.password),s.yb(2),s.Yb("disabled",e.invalid),s.yb(1),s.ic(" ",t.llistatApartats.boto,""),s.yb(2),s.ic(" ",t.llistatApartats.ferRegister," "),s.yb(2),s.ic(" ",t.llistatApartats.register,"")}},directives:[c.g,a.m,a.i,a.d,a.a,a.h,a.c,a.k,r.j,c.d,c.o],styles:["ion-content[_ngcontent-%COMP%]{display:flex}ion-content[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:fixed;z-index:1;width:100%;height:100%;background-image:url(login_wp.f695d8d5afbddde48035.jpg);filter:opacity(40%);background-repeat:no-repeat;background-size:cover}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:fixed;z-index:2;width:100%;height:100%;color:#000;font-weight:700}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (min-width:1099px){ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]{margin:90px 0 70px}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:56px;margin-bottom:35px}}@media (max-width:1100px){ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]{margin:30px 0 60px}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:36px}}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .titol[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;color:#ffc740;text-shadow:2px 2px #000;font-family:power-up}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{filter:opacity(90%);width:310px}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:18px;font-size:18px;border:1px solid #e9e9e9}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .separador[_ngcontent-%COMP%]{height:1.3vh}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;border:1px solid #e9e9e9;background-color:#fff;color:red}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{color:pink;background-color:red}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:2vh}@media (min-width:1099px){ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ion-button.button-disabled[_ngcontent-%COMP%]{opacity:.8}}@media (max-width:1100px){ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .formulari[_ngcontent-%COMP%]   ion-button.button-disabled[_ngcontent-%COMP%]{opacity:.7}}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}"]}),_)}],v=((y=function t(){n(this,t)}).\u0275mod=s.Gb({type:y}),y.\u0275inj=s.Fb({factory:function(n){return new(n||y)},imports:[[l.j.forChild(w)],l.j]}),y),x=((O=function t(){n(this,t)}).\u0275mod=s.Gb({type:O}),O.\u0275inj=s.Fb({factory:function(n){return new(n||O)},imports:[[r.c,a.e,c.D,v,a.j]]}),O)}}])}();